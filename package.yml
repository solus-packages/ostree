name       : ostree
version    : 2017.6
release    : 4
source     :
    - https://github.com/ostreedev/ostree/releases/download/v2017.6/libostree-2017.6.tar.xz : 25ac0ca3e9cc3af115df096fc183d3efa3cf36e765586e7e3f825dc32c89545b
license    : LGPL-2.0
component  : system.utils
summary    : Git-like filesystem management
description: |
    Operating system and container binary deployment and upgrades
patterns   :
    - docs : /usr/share/man
builddeps  :
    - pkgconfig(e2p)
    - pkgconfig(fuse)
    - pkgconfig(gio-unix-2.0)
    - pkgconfig(libarchive)
    - pkgconfig(liblzma)
    - pkgconfig(libsoup-2.4)
    - pkgconfig(libsystemd)
    - pkgconfig(mount)
    - pkgconfig(zlib)
    - gpgme-devel
    - libassuan-devel
setup      : |
    %configure --disable-static
build      : |
    %make
install    : |
    %make_install
    # ostree is only used by flatpak in Solus, so nuke the unnecessary harmful bits.
    rm -rf $installdir/usr/{bin,lib}
    rm -rf $installdir/etc
